{% extends "admin/base.html" %}

{% block stylesheets %}
{% endblock %}

{% block content %}
<div class="row m-3 justify-content-center">
    <br>
    {% if writeups %}
    <table id="teamsboard" class="table table-striped table-dark mt-4">
        <thead class="thead-dark">
            <tr>
                <td class="text-center pr-2"><strong>User/Team id: name</strong>
                </td>
                <td class="text-center pr-2"><strong>User mode</strong>
                </td>
                <td class="text-center pr-2"><strong>Challenge id: name</strong>
                </td>
                <td class="text-center pr-2"><strong>Writeup</strong>
                </td>
            </tr>
        </thead>
        <tbody>
            {% for w in writeups %}
            <tr>
                <td class="p-3 text-center">{{ w.user_id }}: {{ w.user_name }}</td>
                <td class="p-3 text-center">{% if w.user_is_team %}Team{% else %}User{% endif %}</td>
                <td class="p-3 text-center">{{ w.challenge_id }}: {{ w.challenge_name }}</td>
                <td class="p-3 text-center">
                    <a href="{{w.id}}" target="_blank">
                        <button class="btn btn-light">
                            See file
                        </button>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</div>
{% if pages > 1 %}
<div class="row m-3 justify-content-center">
    <a href="?page={{ page-1 }}">
        <button class="btn btn-theme btn-outlined m-1" {% if page == 1 %} disabled {% endif %}>
            <i class="fa fa-arrow-left"></i> Previous page
        </button>
    </a>
    <nav>
        <ul class="pagination">
            {% for i in range(pages) %}
            <a href="?page={{ i+1 }}">
                <li class="p-1 page-item {% if page==i+1 %} active {% endif %}">
                    <span class="page-link">
                        {{i+1}}
                        <span class="sr-only">(current)</span>
                    </span>
                </li>
            </a>
            {% endfor %}
        </ul>
    </nav>
    <a href="?page={{ page+1 }}">
        <button class="btn btn-theme btn-outlined m-1" {% if page == pages %} disabled {% endif %}>
            Next page <i class="fa fa-arrow-right"></i>
        </button>
    </a>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
{% endblock %}